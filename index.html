<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Christmas Live 2025</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Courier New', Courier, monospace; }
        
        /* 科技感 HUD UI */
        #hud {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10; padding: 40px; color: #00ffcc;
            display: flex; flex-direction: column; justify-content: space-between;
        }

        .header { display: flex; justify-content: space-between; opacity: 0.6; font-size: 12px; }
        .scanning { border: 1px solid #00ffcc; padding: 10px; width: fit-content; }

        .center-ui {
            text-align: center; pointer-events: all;
        }

        .main-btn {
            background: none; border: 1px solid #00ffcc; color: #00ffcc;
            padding: 20px 60px; font-size: 14px; cursor: pointer;
            text-transform: uppercase; letter-spacing: 5px;
            box-shadow: 0 0 20px rgba(0,255,204,0.3); transition: 0.3s;
        }
        .main-btn:hover { background: #00ffcc; color: #000; box-shadow: 0 0 50px #00ffcc; }

        .terminal-text { 
            font-size: 14px; color: #fff; text-shadow: 0 0 5px #fff; 
            margin-top: 20px; letter-spacing: 2px;
        }
    </style>
</head>
<body>

<div id="hud">
    <div class="header">
        <div>ORBITAL STATUS: ACTIVE<br>SCANNING REGION: GLOBAL</div>
        <div>2025-12-24 / 23:59:59</div>
    </div>
    
    <div class="center-ui">
        <button class="main-btn" id="activate">初始化平安夜序列</button>
        <div class="terminal-text" id="log">> WAITING FOR ACTIVATION...</div>
    </div>

    <div class="scanning">TARGET: WORLDWIDE_PEACE<br>STABILITY: 100%</div>
</div>

<audio id="bgm" loop>
    <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/ccCommunity/Kai_Engel/Chapter_One_Cold/Kai_Engel_-_02_-_One_iri.mp3" type="audio/mpeg">
</audio>

<script>
    let scene, camera, renderer, globe, stars;

    function init() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // 1. 璀璨星空
        const starGeo = new THREE.BufferGeometry();
        const starPos = [];
        for(let i=0; i<8000; i++) {
            starPos.push((Math.random()-0.5)*200, (Math.random()-0.5)*200, (Math.random()-0.5)*200);
        }
        starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
        stars = new THREE.Points(starGeo, new THREE.PointsMaterial({color: 0xffffff, size: 0.1}));
        scene.add(stars);

        // 2. 核心：线框/粒子地球 (这就是不low的关键，不是贴一张图)
        const globeGeo = new THREE.SphereGeometry(5, 64, 64);
        const globeMat = new THREE.MeshPhongMaterial({
            color: 0x001122,
            emissive: 0x002244,
            wireframe: true, // 赛博线框感
            transparent: true,
            opacity: 0.5
        });
        globe = new THREE.Mesh(globeGeo, globeMat);
        scene.add(globe);

        // 3. 地球上的发光光点（模拟各大城市平安夜亮灯）
        const pointsGeo = new THREE.SphereGeometry(5.05, 32, 32);
        const pointsMat = new THREE.PointsMaterial({
            color: 0x00ffcc,
            size: 0.05,
            blending: THREE.AdditiveBlending
        });
        const globePoints = new THREE.Points(pointsGeo, pointsMat);
        globe.add(globePoints);

        // 灯光
        const light = new THREE.PointLight(0xffffff, 1.5, 100);
        light.position.set(10, 10, 10);
        scene.add(light);

        camera.position.z = 15;
        animate();
    }

    function animate() {
        requestAnimationFrame(animate);
        globe.rotation.y += 0.002;
        stars.rotation.x += 0.0001;
        renderer.render(scene, camera);
    }

    // 仪式逻辑
    document.getElementById('activate').onclick = function() {
        const log = document.getElementById('log');
        this.style.display = 'none';
        document.getElementById('bgm').play();

        // 模拟指令行
        const sequence = [
            "> INITIALIZING...",
            "> POSITIONING SATELLITE...",
            "> MAPPING FESTIVE ENERGY...",
            "> MERRY CHRISTMAS WORLDWIDE."
        ];
        
        sequence.forEach((text, i) => {
            setTimeout(() => {
                log.innerText = text;
                if(i === 3) startGrandFinale();
            }, i * 1000);
        });
    };

    function startGrandFinale() {
        // 瞬间拉近镜头 (神谕般的冲击力)
        gsap.to(camera.position, { z: 7, duration: 4, ease: "power4.inOut" });
        gsap.to(globe.rotation, { y: globe.rotation.y + Math.PI * 2, duration: 4 });
        
        // 变色
        gsap.to(globe.material.color, { r: 0.8, g: 0.1, b: 0.1, duration: 3 });
        gsap.to(globe.material.emissive, { r: 0.4, g: 0, b: 0, duration: 3 });
    }

    init();
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
</script>
</body>
</html>
